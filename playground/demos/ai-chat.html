<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI èŠå¤©åŠ©æ‰‹ - Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/common.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            position: relative;
        }

        /* åŠ¨æ€èƒŒæ™¯ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 50%, rgba(102, 126, 234, 0.4) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(240, 147, 251, 0.4) 0%, transparent 50%),
                radial-gradient(circle at 50% 80%, rgba(118, 75, 162, 0.3) 0%, transparent 60%);
            animation: bgShift 12s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes bgShift {
            0%, 100% { opacity: 0.8; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow:
                0 8px 32px rgba(31, 38, 135, 0.37),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }

        .chat-container {
            height: calc(100vh - 300px);
            min-height: 400px;
        }

        .message-enter {
            animation: messageSlide 0.3s ease-out;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .typing-indicator span {
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }

        /* ç”¨æˆ·æ¶ˆæ¯æ°”æ³¡ */
        .user-message {
            background: linear-gradient(135deg, rgba(0, 210, 255, 0.9), rgba(0, 245, 212, 0.9));
            box-shadow: 0 4px 15px rgba(0, 210, 255, 0.3);
        }

        /* AI æ¶ˆæ¯æ°”æ³¡ */
        .ai-message {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* å¿«æ·æŒ‰é’® */
        .quick-btn {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .quick-btn:hover {
            background: rgba(255, 255, 255, 0.35);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* å‘é€æŒ‰é’® */
        .send-btn {
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            background-size: 200% 200%;
            animation: gradientShift 3s ease infinite;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.6);
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* è¾“å…¥æ¡† */
        .chat-input {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(102, 126, 234, 0.6);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .chat-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        /* èŠå¤©å¤´éƒ¨ */
        .chat-header {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.9), rgba(118, 75, 162, 0.9));
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* AI å¤´åƒå‘å…‰ */
        .ai-avatar {
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.6);
            animation: avatarPulse 2s ease-in-out infinite;
        }

        @keyframes avatarPulse {
            0%, 100% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.6); }
            50% { box-shadow: 0 0 30px rgba(102, 126, 234, 0.9); }
        }

        /* ç”¨æˆ·å¤´åƒ */
        .user-avatar {
            background: linear-gradient(135deg, #00d2ff, #00f5d4);
            box-shadow: 0 0 15px rgba(0, 210, 255, 0.5);
        }

        /* ç»Ÿè®¡å¡ç‰‡ */
        .stats-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .stats-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .stats-value {
            background: linear-gradient(135deg, #00d2ff, #00f5d4, #667eea);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 100;
            text-decoration: none;
        }

        .back-btn:hover {
            transform: scale(1.1) rotate(-5deg);
            background: rgba(255, 255, 255, 0.25);
        }

        h1, h3, label, p, li {
            color: white;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        /* èŠå¤©åŒºåŸŸèƒŒæ™¯ */
        .chat-bg {
            background: rgba(255, 255, 255, 0.08);
        }

        /* åœ¨çº¿çŠ¶æ€ç‚¹ */
        .online-dot {
            background: #00f5d4;
            box-shadow: 0 0 10px #00f5d4;
            animation: onlinePulse 2s ease-in-out infinite;
        }

        @keyframes onlinePulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        /* æ‰“å­—æŒ‡ç¤ºå™¨ç‚¹ */
        .typing-dot {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
    </style>
</head>

<body class="antialiased min-h-screen flex flex-col">

    <a href="../index.html" class="back-btn">
        <i class="fas fa-arrow-left"></i>
    </a>

    <!-- Header -->
    <header class="sticky top-0 z-50" style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255, 255, 255, 0.2);">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="../index.html" class="flex items-center space-x-4 hover:opacity-80 transition-opacity" style="color: white;">
                <i class="fas fa-arrow-left"></i>
                <span class="font-bold">è¿”å›è¶£ç©</span>
            </a>
            <a href="../../index.html" style="color: white;" class="hover:opacity-80 transition-opacity">
                <i class="fas fa-home mr-1"></i>é¦–é¡µ
            </a>
        </div>
    </header>

    <main class="flex-grow max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- Demo Header -->
        <section class="mb-6 text-center">
            <h1 class="text-3xl font-bold mb-2">
                <i class="fas fa-robot mr-2" style="color: #f093fb;"></i>AI èŠå¤©åŠ©æ‰‹
            </h1>
            <p class="opacity-90">æ¨¡æ‹Ÿ AI å¯¹è¯ä½“éªŒï¼Œæ”¯æŒå¤šè½®å¯¹è¯å’Œä¸Šä¸‹æ–‡è®°å¿†ï¼ˆDemo ç‰ˆæœ¬ä½¿ç”¨é¢„è®¾å›å¤ï¼‰</p>
        </section>

        <!-- Chat Interface -->
        <section class="glass-card rounded-xl overflow-hidden">
            <!-- Chat Header -->
            <div class="chat-header text-white p-4 flex items-center gap-3">
                <div class="ai-avatar w-12 h-12 rounded-full flex items-center justify-center">
                    <i class="fas fa-robot text-white text-xl"></i>
                </div>
                <div>
                    <h3 class="font-bold">AI åŠ©æ‰‹</h3>
                    <p class="text-sm opacity-90">
                        <span class="online-dot inline-block w-2 h-2 rounded-full mr-1"></span>åœ¨çº¿
                    </p>
                </div>
            </div>

            <!-- Messages Container -->
            <div id="chatContainer" class="chat-container overflow-y-auto p-4 space-y-4 chat-bg">
                <!-- Welcome Message -->
                <div class="flex items-start gap-3 message-enter">
                    <div class="ai-avatar w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-robot text-white text-sm"></i>
                    </div>
                    <div class="ai-message rounded-2xl rounded-tl-none p-4 max-w-[80%]">
                        <p class="text-stone-700">ä½ å¥½ï¼æˆ‘æ˜¯ AI åŠ©æ‰‹ï¼Œå¾ˆé«˜å…´ä¸ºä½ æœåŠ¡ ğŸ¤–</p>
                        <p class="text-stone-500 text-sm mt-2">ä½ å¯ä»¥é—®æˆ‘å…³äºï¼š</p>
                        <ul class="text-stone-500 text-sm mt-1 space-y-1">
                            <li>â€¢ ç¼–ç¨‹æŠ€æœ¯é—®é¢˜</li>
                            <li>â€¢ ç”Ÿæ´»å¸¸è¯†</li>
                            <li>â€¢ åˆ›æ„å»ºè®®</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="p-4" style="background: rgba(255, 255, 255, 0.1); border-top: 1px solid rgba(255, 255, 255, 0.2);">
                <p class="text-sm opacity-80 mb-3">å¿«æ·æé—®ï¼š</p>
                <div class="flex flex-wrap gap-2">
                    <button onclick="sendQuickMessage('ä»‹ç»ä¸€ä¸‹ Python')" class="quick-btn px-4 py-2 rounded-full text-sm">
                        ğŸ ä»‹ç» Python
                    </button>
                    <button onclick="sendQuickMessage('ç»™æˆ‘ä¸€ä¸ªåˆ›æ„ç‚¹å­')" class="quick-btn px-4 py-2 rounded-full text-sm">
                        ğŸ’¡ åˆ›æ„ç‚¹å­
                    </button>
                    <button onclick="sendQuickMessage('è®²ä¸ªç¬‘è¯')" class="quick-btn px-4 py-2 rounded-full text-sm">
                        ğŸ˜„ è®²ä¸ªç¬‘è¯
                    </button>
                    <button onclick="sendQuickMessage('æ¨èä¸€æœ¬å¥½ä¹¦')" class="quick-btn px-4 py-2 rounded-full text-sm">
                        ğŸ“š æ¨èå¥½ä¹¦
                    </button>
                </div>
            </div>

            <!-- Input Area -->
            <div class="p-4" style="background: rgba(255, 255, 255, 0.1); border-top: 1px solid rgba(255, 255, 255, 0.2);">
                <div class="flex gap-3">
                    <input
                        type="text"
                        id="messageInput"
                        placeholder="è¾“å…¥ä½ çš„é—®é¢˜..."
                        class="chat-input flex-1 px-4 py-3 rounded-full text-white focus:outline-none"
                        onkeypress="handleKeyPress(event)"
                    >
                    <button
                        onclick="sendMessage()"
                        class="send-btn px-6 py-3 text-white rounded-full transition-all"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Stats -->
        <section class="mt-6 grid grid-cols-3 gap-4">
            <div class="stats-card rounded-xl p-4 text-center">
                <div class="text-2xl font-bold stats-value" id="messageCount">1</div>
                <div class="text-xs opacity-80 mt-1">æ¶ˆæ¯æ•°</div>
            </div>
            <div class="stats-card rounded-xl p-4 text-center">
                <div class="text-2xl font-bold stats-value" id="responseTime">0</div>
                <div class="text-xs opacity-80 mt-1">å¹³å‡å“åº”æ—¶é—´(ms)</div>
            </div>
            <div class="stats-card rounded-xl p-4 text-center">
                <div class="text-2xl font-bold stats-value" id="conversationLength">0</div>
                <div class="text-xs opacity-80 mt-1">å¯¹è¯è½®æ•°</div>
            </div>
        </section>

    </main>

    <footer style="background: rgba(15, 12, 41, 0.8);" class="py-6 mt-auto">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-sm opacity-80">Demo ç‰ˆæœ¬ - å®é™…é¡¹ç›®å¯æ¥å…¥ OpenAI / Qwen ç­‰çœŸå® API</p>
        </div>
    </footer>

    <script>
        let conversationCount = 0;
        let messageCount = 1;
        let totalResponseTime = 0;
        let conversationHistory = [];

        // é¢„è®¾å›å¤åº“
        const responses = {
            python: `Python æ˜¯ä¸€ç§ç®€æ´ä¼˜é›…çš„ç¼–ç¨‹è¯­è¨€ ğŸ

**ç‰¹ç‚¹ï¼š**
â€¢ è¯­æ³•ç®€æ´ï¼Œæ˜“äºå­¦ä¹ 
â€¢ ä¸°å¯Œçš„ç¬¬ä¸‰æ–¹åº“ç”Ÿæ€
â€¢ è·¨å¹³å°æ”¯æŒ

**åº”ç”¨é¢†åŸŸï¼š**
â€¢ Web å¼€å‘ï¼ˆDjangoã€Flaskï¼‰
â€¢ æ•°æ®ç§‘å­¦ï¼ˆPandasã€NumPyï¼‰
â€¢ äººå·¥æ™ºèƒ½ï¼ˆTensorFlowã€PyTorchï¼‰
â€¢ è‡ªåŠ¨åŒ–è„šæœ¬`,

            idea: `è¿™é‡Œæœ‰å‡ ä¸ªåˆ›æ„ç‚¹å­ ğŸ’¡

1. **æ™ºèƒ½æ¤ç‰©ç®¡å®¶**
   - é€šè¿‡å›¾åƒè¯†åˆ«æ¤ç‰©å¥åº·çŠ¶æ€
   - è‡ªåŠ¨æé†’æµ‡æ°´ã€æ–½è‚¥

2. **äºŒæ‰‹ä¹¦äº¤æ¢å¹³å°**
   - æ ¡å›­å†…çš„å›¾ä¹¦å…±äº«ç¤¾åŒº
   - ç§¯åˆ†å…‘æ¢æœºåˆ¶

3. **å£°éŸ³æ—¥è®°**
   - ç”¨è¯­éŸ³è®°å½•æ¯æ—¥å¿ƒæƒ…
   - AI ç”Ÿæˆæƒ…ç»ªè¶‹åŠ¿å›¾

ä½ å¯¹å“ªä¸ªæ„Ÿå…´è¶£ï¼Ÿ`,

            joke: `ç»™ä½ è®²ä¸ªç¨‹åºå‘˜ç¬‘è¯ ğŸ˜„

ç¨‹åºå‘˜æœ€è®¨åŒä»€ä¹ˆï¼Ÿ
â€¢ å†™æ–‡æ¡£
â€¢ å†™æ³¨é‡Š
â€¢ åˆ«äººä¸å†™æ–‡æ¡£
â€¢ åˆ«äººä¸å†™æ³¨é‡Š

æœ€è®¨åŒçš„æ˜¯ï¼š**å†™ï¼å®Œï¼ä»¥ï¼åï¼å‘ï¼ç°ï¼ä»£ï¼ç ï¼è·‘ï¼ä¸ï¼èµ·ï¼**

å“ˆå“ˆå“ˆ ğŸ¤£`,

            book: `æ¨èå‡ æœ¬å€¼å¾—é˜…è¯»çš„å¥½ä¹¦ ğŸ“š

**æŠ€æœ¯ç±»ï¼š**
â€¢ ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹- Robert Martin
â€¢ ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹- Bryant & O'Hallaron

**æ€ç»´ç±»ï¼š**
â€¢ ã€Šæ€è€ƒï¼Œå¿«ä¸æ…¢ã€‹- Daniel Kahneman
â€¢ ã€ŠåŸåˆ™ã€‹- Ray Dalio

**å°è¯´ç±»ï¼š**
â€¢ ã€Šä¸‰ä½“ã€‹- åˆ˜æ…ˆæ¬£
â€¢ ã€Šæ´»ç€ã€‹- ä½™å

ä½ å¯¹å“ªç±»ä¹¦ç±æ„Ÿå…´è¶£ï¼Ÿ`,

            default: `è¿™æ˜¯ä¸ªå¾ˆæœ‰è¶£çš„é—®é¢˜ï¼ğŸ¤”

ä½œä¸º Demo ç‰ˆæœ¬ï¼Œæˆ‘çš„çŸ¥è¯†åº“æœ‰é™ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥æ¥å…¥ï¼š
â€¢ OpenAI GPT API
â€¢ é˜¿é‡Œé€šä¹‰åƒé—®
â€¢ ç™¾åº¦æ–‡å¿ƒä¸€è¨€

è¿™æ ·å°±èƒ½å›ç­”æ›´å¤æ‚çš„é—®é¢˜äº†ï¼

æœ‰å…¶ä»–é—®é¢˜å—ï¼Ÿæˆ‘å¯ä»¥ç»§ç»­å¸®ä½  ğŸ’ª`
        };

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendQuickMessage(message) {
            document.getElementById('messageInput').value = message;
            sendMessage();
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (!message) return;

            // æ¸…ç©ºè¾“å…¥æ¡†
            input.value = '';

            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            addMessage(message, 'user');

            // ä¿å­˜åˆ°å†å²
            conversationHistory.push({ role: 'user', content: message });

            // æ˜¾ç¤ºè¾“å…¥ä¸­çŠ¶æ€
            showTypingIndicator();

            // æ¨¡æ‹Ÿ AI æ€è€ƒå¹¶å›å¤
            const startTime = Date.now();
            setTimeout(() => {
                hideTypingIndicator();
                const response = generateResponse(message);
                const responseTime = Date.now() - startTime;

                addMessage(response, 'ai');
                conversationHistory.push({ role: 'ai', content: response });

                // æ›´æ–°ç»Ÿè®¡
                messageCount += 2;
                totalResponseTime += responseTime;
                conversationCount++;
                updateStats();

            }, 1000 + Math.random() * 1500); // éšæœºå»¶è¿Ÿ 1-2.5 ç§’
        }

        function generateResponse(message) {
            const lowerMessage = message.toLowerCase();

            if (lowerMessage.includes('python') || lowerMessage.includes('ç¼–ç¨‹')) {
                return responses.python;
            } else if (lowerMessage.includes('åˆ›æ„') || lowerMessage.includes('ç‚¹å­')) {
                return responses.idea;
            } else if (lowerMessage.includes('ç¬‘è¯')) {
                return responses.joke;
            } else if (lowerMessage.includes('ä¹¦') || lowerMessage.includes('æ¨è')) {
                return responses.book;
            } else {
                return responses.default;
            }
        }

        function addMessage(content, type) {
            const container = document.getElementById('chatContainer');

            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex items-start gap-3 message-enter';

            if (type === 'user') {
                messageDiv.classList.add('flex-row-reverse');
                messageDiv.innerHTML = `
                    <div class="user-avatar w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-user text-white text-sm"></i>
                    </div>
                    <div class="user-message text-white rounded-2xl rounded-tr-none p-4 max-w-[80%]">
                        <p>${escapeHtml(content)}</p>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="ai-avatar w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-robot text-white text-sm"></i>
                    </div>
                    <div class="ai-message rounded-2xl rounded-tl-none p-4 max-w-[80%]">
                        <p class="text-stone-700 whitespace-pre-line">${content}</p>
                    </div>
                `;
            }

            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        function showTypingIndicator() {
            const container = document.getElementById('chatContainer');

            const indicator = document.createElement('div');
            indicator.id = 'typingIndicator';
            indicator.className = 'flex items-start gap-3 message-enter';
            indicator.innerHTML = `
                <div class="ai-avatar w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <div class="ai-message rounded-2xl rounded-tl-none p-4">
                    <div class="typing-indicator flex gap-1">
                        <span class="typing-dot w-2 h-2 rounded-full"></span>
                        <span class="typing-dot w-2 h-2 rounded-full"></span>
                        <span class="typing-dot w-2 h-2 rounded-full"></span>
                    </div>
                </div>
            `;

            container.appendChild(indicator);
            container.scrollTop = container.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }

        function updateStats() {
            document.getElementById('messageCount').textContent = messageCount;
            document.getElementById('responseTime').textContent = Math.round(totalResponseTime / conversationCount);
            document.getElementById('conversationLength').textContent = conversationCount;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>

</html>
